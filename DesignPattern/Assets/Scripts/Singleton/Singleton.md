(참고 영상: https://youtu.be/a5TCCQgdv-E?si=dNlIh33-5w6StpjZ)
---
# 싱글톤 패턴

## 싱글톤이란?
UI나 사운드같은 요소들은 게임이 시작해서 끝날 때 까지 **항상 일정하게 관리**되어야 한다.

싱글톤은 이처럼 게임의 전 범위에 걸쳐서 동작해야 하는 중요한 기능을 수행한다.

싱글톤(Singleton)은 
- 클래스의 인스턴스를 **오직 하나만 생성**하도록 보장하고
- 그 인스턴스에 **전역 접근 시점**을 제공하는 디자인 패턴이다.
---
## 특징

### 접근성
보통 다른 스크립트의 함수를 사용하려면
`Find`, `GetComponent`, 직접 참조 등의 과정을 거쳐야 해서 다소 복잡할 수 있다.

하지만 싱글톤올 사용하면 
이러한 과정 없이 **어디서든 바로 접근하여 기능을 사용할 수 있다.**

즉, 전역적으로 접근 가능한 구조를 제공함으로써
코드 사용성이 크게 향상된다.
---
### 유일성
싱글톤은 기능별로 **단 하나만 유일하게 존재**해야 한다.

어떤 이유에서든지 (프리팹 중복 생성, 씬 중복 로드 등)
오브젝트가 여러 개 생성되면 안된다.

싱글톤 오브젝트가 여러 개가 존재할 경우
서로 다른 인스턴스가 동시에 동작하면서
스크립트 간 충돌이나 예기치 않은 버그를 유발할 수 있다.

이를 방지하기 위해 싱글톤을 구현할 때는 
- 자기자신이 생성될 때
- 이미 동일한 싱글톤 인스턴스가 존재한다면
자기자신을 삭제하거나, 혹은 새로 생성된 것을 파괴하여

**어떤 상황에서든 유일하게 하나만 존재하도록 처리**해준다.
---
### 존속성 (유니티의 특성)
유니티에서는 씬이 전환될 때 이전에 있던 씬의 모든 오브젝트가 기본적으로 파괴된다.

하지만 싱글톤으로 관리되는 데이터나 기능은 
씬이 바뀌었다고 해서 사라지면 안 된다.

예를 들어:
- 배경 음악
- 게임 설정 값
- 저장 데이터
- UI 매니저
이런 요소들은 씬 전환과 무관하게 **항상 유지**되어야 한다..

그래서 유니티에서 싱글톤으로 구현한 오브젝트들은 
`DontDestroyOnLoad()`를 사용하여
씬이 바뀌어도 파괴되지 않도록 처리한다.


| ※싱글톤도 구현 방식이 다향하기 때문에 다른 방식으로 구현한다면 이러한 부분을 신경 쓰지 않아도 되는 경우도 있다.
---
## 장단점

### 장점
- 전역 접근이 가능하여 사용이 매우 편리하다
- 하나의 인스턴스만 존재하므로 데이터 관리가 명확하다
- UI, 사운드, 매니저 클래스 등에 적합하다
- 중복 생성으로 인한 충돌을 방지할 수 있다

---
### 단점
- `static`을 많이 사용할수록 
    메모리에 **고정적으로 할당되는 영역이 증가**하여
    메모리 관리가 어려워질 수 있다
- 전역 접근 구조로 인해 **클래스 간 의존성**이 강해질 수 있다
- **테스트가 어려워**지고 **코드 구조가 복잡**해질 가능성이 있다
- 잘못 사용하면 **“모든 것을 싱글톤으로 만드는”** 안 좋은 설계로 이어질 수 있다